"use client";

import { motion } from "motion/react";
import { useTheme } from "next-themes";

const AnimatePath = ({
  d,
  color,
  delay = 0,
  duration = 1.2,
  transform,
}: {
  d: string;
  color: string;
  delay?: number;
  duration?: number;
  transform?: string;
}) => {
  return (
    <g transform={transform}>
      <motion.path
        initial={{ pathLength: 0, fill: `rgba(${color},0)` }}
        animate={{
          pathLength: 1,
          fill: `rgb(${color})`,
        }}
        transition={{
          pathLength: {
            delay,
            duration,
            ease: "easeInOut",
          },
          fill: {
            delay: delay + duration,
            duration: duration / 3,
            ease: "circInOut",
          },
        }}
        d={d}
        stroke={`rgb(${color})`}
        strokeWidth={4}
        style={{ fillRule: "nonzero" }}
      />
    </g>
  );
};

const LogoAnimated = ({
  variant = "color",
  duration = "regular",
  ...props
}: {
  variant?: "white" | "black" | "color" | "dynamic";
  duration?: "instant" | "fast" | "regular" | "slow";
} & React.ComponentProps<"div">) => {
  const { resolvedTheme } = useTheme();

  const variants = {
    white: {
      primary: "255,255,255",
      secondary: "255,255,255",
    },
    black: {
      primary: "0,0,0",
      secondary: "0,0,0",
    },
    color: {
      primary: "8,71,101",
      secondary: "15,130,126",
    },
    dynamic: {
      primary: resolvedTheme === "dark" ? "255,255,255" : "8,71,101",
      secondary: resolvedTheme === "dark" ? "255,255,255" : "15,130,126",
    },
  };

  const durations = {
    instant: 0,
    fast: 0.5,
    regular: 1.2,
    slow: 2,
  };

  const paths = [
    {
      d: "M1070.36,2327.65C1054.67,2327.65 1039.64,2325.55 1025.26,2321.35C1010.88,2317.15 999.297,2311.68 990.52,2304.96L1005.93,2270.78C1014.33,2276.76 1024.28,2281.66 1035.76,2285.49C1047.25,2289.32 1058.87,2291.23 1070.64,2291.23C1079.6,2291.23 1086.84,2290.35 1092.35,2288.57C1097.86,2286.8 1101.92,2284.32 1104.54,2281.15C1107.15,2277.97 1108.46,2274.33 1108.46,2270.22C1108.46,2264.99 1106.4,2260.84 1102.3,2257.76C1098.19,2254.68 1092.77,2252.15 1086.05,2250.19C1079.32,2248.23 1071.9,2246.37 1063.78,2244.59C1055.65,2242.82 1047.53,2240.62 1039.4,2238.01C1031.28,2235.39 1023.86,2232.03 1017.13,2227.92C1010.41,2223.81 1004.95,2218.4 1000.75,2211.67C996.543,2204.95 994.442,2196.36 994.442,2185.9C994.442,2174.7 997.476,2164.47 1003.55,2155.23C1009.62,2145.98 1018.77,2138.61 1031,2133.1C1043.23,2127.59 1058.59,2124.83 1077.08,2124.83C1089.41,2124.83 1101.55,2126.28 1113.5,2129.17C1125.45,2132.07 1136.01,2136.41 1145.16,2142.2L1131.15,2176.66C1122,2171.43 1112.85,2167.55 1103.7,2165.03C1094.54,2162.51 1085.58,2161.25 1076.8,2161.25C1068.03,2161.25 1060.83,2162.28 1055.23,2164.33C1049.63,2166.39 1045.61,2169.05 1043.19,2172.32C1040.76,2175.58 1039.54,2179.37 1039.54,2183.66C1039.54,2188.7 1041.6,2192.76 1045.71,2195.85C1049.82,2198.93 1055.23,2201.4 1061.95,2203.27C1068.68,2205.14 1076.1,2207.01 1084.23,2208.87C1092.35,2210.74 1100.47,2212.89 1108.6,2215.32C1116.72,2217.74 1124.15,2221.01 1130.87,2225.12C1137.59,2229.23 1143.06,2234.64 1147.26,2241.37C1151.46,2248.09 1153.56,2256.59 1153.56,2266.86C1153.56,2277.88 1150.48,2287.97 1144.32,2297.12C1138.15,2306.27 1128.95,2313.64 1116.72,2319.25C1104.49,2324.85 1089.04,2327.65 1070.36,2327.65Z",
      color: variants[variant].primary,
      transform: "matrix(0.462573,0,0,0.462573,89.9513,361.443)",
      duration: durations[duration],
    },
    {
      d: "M1279.9,2327.65C1264.4,2327.65 1250.07,2325.13 1236.9,2320.09C1223.74,2315.05 1212.34,2307.95 1202.72,2298.8C1193.11,2289.65 1185.64,2278.91 1180.31,2266.58C1174.99,2254.26 1172.33,2240.81 1172.33,2226.24C1172.33,2211.67 1174.99,2198.23 1180.31,2185.9C1185.64,2173.57 1193.15,2162.84 1202.87,2153.68C1212.58,2144.53 1223.97,2137.44 1237.04,2132.39C1250.12,2127.35 1264.31,2124.83 1279.62,2124.83C1295.12,2124.83 1309.36,2127.35 1322.34,2132.39C1335.32,2137.44 1346.62,2144.53 1356.24,2153.68C1365.86,2162.84 1373.38,2173.53 1378.79,2185.76C1384.21,2197.99 1386.91,2211.49 1386.91,2226.24C1386.91,2240.81 1384.21,2254.3 1378.79,2266.72C1373.38,2279.14 1365.86,2289.88 1356.24,2298.94C1346.62,2307.99 1335.32,2315.05 1322.34,2320.09C1309.36,2325.13 1295.22,2327.65 1279.9,2327.65ZM1279.62,2288.99C1288.4,2288.99 1296.48,2287.5 1303.85,2284.51C1311.23,2281.52 1317.72,2277.23 1323.32,2271.62C1328.93,2266.02 1333.27,2259.39 1336.35,2251.73C1339.43,2244.08 1340.97,2235.58 1340.97,2226.24C1340.97,2216.9 1339.43,2208.41 1336.35,2200.75C1333.27,2193.09 1328.97,2186.46 1323.46,2180.86C1317.95,2175.26 1311.46,2170.96 1303.99,2167.97C1296.52,2164.98 1288.4,2163.49 1279.62,2163.49C1270.85,2163.49 1262.77,2164.98 1255.39,2167.97C1248.01,2170.96 1241.52,2175.26 1235.92,2180.86C1230.32,2186.46 1225.98,2193.09 1222.89,2200.75C1219.81,2208.41 1218.27,2216.9 1218.27,2226.24C1218.27,2235.39 1219.81,2243.84 1222.89,2251.59C1225.98,2259.34 1230.27,2266.02 1235.78,2271.62C1241.29,2277.23 1247.78,2281.52 1255.25,2284.51C1262.72,2287.5 1270.85,2288.99 1279.62,2288.99Z",
      color: variants[variant].primary,
      transform: "matrix(0.462573,0,0,0.462573,89.9513,361.443)",
      duration: durations[duration],
    },
    {
      d: "M1466.19,2274.79L1466.19,2324.29L1421.09,2324.29L1421.09,2128.19L1466.19,2128.19L1466.19,2219.7L1553.04,2128.19L1603.46,2128.19L1522.28,2215.56L1608.23,2324.29L1555.28,2324.29L1492.47,2247.36L1466.19,2274.79Z",
      color: variants[variant].primary,
      transform: "matrix(0.462573,0,0,0.462573,89.9513,361.443)",
      duration: durations[duration],
    },
    {
      d: "M1673.78,2269.66L1673.78,2324.29L1628.39,2324.29L1628.39,2128.19L1713.28,2128.19C1730.83,2128.19 1745.96,2131.04 1758.66,2136.74C1771.36,2142.43 1781.16,2150.6 1788.07,2161.25C1794.98,2171.89 1798.44,2184.59 1798.44,2199.35C1798.44,2213.91 1794.98,2226.47 1788.07,2237.03C1781.16,2247.58 1771.36,2255.66 1758.66,2261.26C1758.53,2261.32 1758.4,2261.37 1758.27,2261.43L1802.08,2324.29L1753.06,2324.29L1715.41,2269.65C1714.7,2269.66 1713.99,2269.66 1713.28,2269.66L1673.78,2269.66ZM1673.78,2233.53L1710.76,2233.53C1724.76,2233.53 1735.22,2230.49 1742.13,2224.42C1749.04,2218.35 1752.5,2209.99 1752.5,2199.35C1752.5,2188.52 1749.04,2180.11 1742.13,2174.14C1735.22,2168.16 1724.76,2165.17 1710.76,2165.17L1673.78,2165.17L1673.78,2233.53Z",
      color: variants[variant].primary,
      transform: "matrix(0.462573,0,0,0.462573,89.9513,361.443)",
      duration: durations[duration],
    },
    {
      d: "M1872.5,2282.27L1855.03,2324.29L1808.52,2324.29L1895.93,2128.19L1940.75,2128.19L2028.43,2324.29L1980.81,2324.29L1963.4,2282.27L1872.5,2282.27ZM1949.13,2247.81L1918.04,2172.76L1886.83,2247.81L1949.13,2247.81Z",
      color: variants[variant].primary,
      transform: "matrix(0.462573,0,0,0.462573,89.9513,361.443)",
      duration: durations[duration],
    },
    {
      d: "M2079.7,2324.29L2079.7,2165.17L2016.95,2165.17L2016.95,2128.19L2187.83,2128.19L2187.83,2165.17L2125.08,2165.17L2125.08,2324.29L2079.7,2324.29Z",
      color: variants[variant].secondary,
      transform: "matrix(0.462573,0,0,0.462573,89.9513,361.443)",
      duration: durations[duration],
    },
    {
      d: "M2257.3,2242.49L2257.3,2287.87L2364.04,2287.87L2364.04,2324.29L2212.2,2324.29L2212.2,2128.19L2360.4,2128.19L2360.4,2164.61L2257.3,2164.61L2257.3,2207.19L2348.35,2207.19L2348.35,2242.49L2257.3,2242.49Z",
      color: variants[variant].secondary,
      transform: "matrix(0.462573,0,0,0.462573,89.9513,361.443)",
      duration: durations[duration],
    },
    {
      d: "M2464.61,2327.65C2448.92,2327.65 2433.89,2325.55 2419.51,2321.35C2405.12,2317.15 2393.55,2311.68 2384.77,2304.96L2400.18,2270.78C2408.58,2276.76 2418.53,2281.66 2430.01,2285.49C2441.5,2289.32 2453.12,2291.23 2464.89,2291.23C2473.85,2291.23 2481.09,2290.35 2486.6,2288.57C2492.11,2286.8 2496.17,2284.32 2498.78,2281.15C2501.4,2277.97 2502.71,2274.33 2502.71,2270.22C2502.71,2264.99 2500.65,2260.84 2496.54,2257.76C2492.43,2254.68 2487.02,2252.15 2480.3,2250.19C2473.57,2248.23 2466.15,2246.37 2458.02,2244.59C2449.9,2242.82 2441.78,2240.62 2433.65,2238.01C2425.53,2235.39 2418.1,2232.03 2411.38,2227.92C2404.66,2223.81 2399.2,2218.4 2394.99,2211.67C2390.79,2204.95 2388.69,2196.36 2388.69,2185.9C2388.69,2174.7 2391.72,2164.47 2397.79,2155.23C2403.86,2145.98 2413.01,2138.61 2425.25,2133.1C2437.48,2127.59 2452.84,2124.83 2471.33,2124.83C2483.66,2124.83 2495.8,2126.28 2507.75,2129.17C2519.7,2132.07 2530.25,2136.41 2539.4,2142.2L2525.4,2176.66C2516.25,2171.43 2507.1,2167.55 2497.94,2165.03C2488.79,2162.51 2479.83,2161.25 2471.05,2161.25C2462.27,2161.25 2455.08,2162.28 2449.48,2164.33C2443.88,2166.39 2439.86,2169.05 2437.43,2172.32C2435.01,2175.58 2433.79,2179.37 2433.79,2183.66C2433.79,2188.7 2435.85,2192.76 2439.95,2195.85C2444.06,2198.93 2449.48,2201.4 2456.2,2203.27C2462.93,2205.14 2470.35,2207.01 2478.47,2208.87C2486.6,2210.74 2494.72,2212.89 2502.85,2215.32C2510.97,2217.74 2518.39,2221.01 2525.12,2225.12C2531.84,2229.23 2537.3,2234.64 2541.51,2241.37C2545.71,2248.09 2547.81,2256.59 2547.81,2266.86C2547.81,2277.88 2544.73,2287.97 2538.56,2297.12C2532.4,2306.27 2523.2,2313.64 2510.97,2319.25C2498.74,2324.85 2483.28,2327.65 2464.61,2327.65Z",
      color: variants[variant].secondary,
      transform: "matrix(0.462573,0,0,0.462573,89.9513,361.443)",
      duration: durations[duration],
    },
    {
      d: "M1423.78,1252.86L1411.73,1252.86L1411.73,1236.92L1423.78,1236.92L1423.78,1222.12L1444.66,1222.12L1444.66,1236.92L1461.71,1236.92L1461.71,1252.86L1444.66,1252.86L1444.66,1285.01C1444.66,1288.04 1445.46,1290.38 1447.06,1292.03C1448.67,1293.68 1450.86,1294.51 1453.62,1294.51C1456.92,1294.51 1459.73,1293.61 1462.05,1291.83L1467.67,1306.55C1465.53,1308.06 1462.96,1309.2 1459.98,1309.96C1456.99,1310.72 1453.89,1311.1 1450.68,1311.1C1442.2,1311.1 1435.6,1308.93 1430.88,1304.61C1426.15,1300.28 1423.78,1293.84 1423.78,1285.27L1423.78,1252.86Z",
      color: variants[variant].secondary,
      transform: "matrix(1,0,0,1,-143.784,69.0776)",
      duration: durations[duration],
    },
    {
      d: "M678.366,1290.97L690.568,1276.81L1314.41,1815L1302.2,1829.16L705.13,1314.06L678.858,1344.61L652.073,1321.57L678.379,1290.99L678.366,1290.97Z",
      color: variants[variant].primary,
      transform:
        "matrix(0.536013,-0.557095,0.461947,0.645754,-290.974,866.263)",
      duration: durations[duration],
      delay: 0.5,
    },
  ];

  return (
    <div {...props}>
      <svg
        width="100%"
        height="100%"
        viewBox="0 0 931 254"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
        xmlSpace="preserve"
      >
        <g transform="matrix(1,0,0,1,-1.13687e-13,-2273)">
          <g
            id="svg_animate"
            transform="matrix(0.932866,0,0,0.27224,-444.044,2101.49)"
          >
            <g
              id="Layer4"
              transform="matrix(1.07197,0,0,3.67323,-32.1117,-3906.44)"
            >
              <g>
                {paths.map((path, i) => (
                  <AnimatePath
                    // biome-ignore lint/suspicious/noArrayIndexKey: <Fine for this static list>
                    key={i}
                    d={path.d}
                    color={path.color}
                    delay={((path?.delay ?? 0) + i * 0.2) * durations[duration]}
                    duration={path.duration}
                    transform={path.transform}
                  />
                ))}
              </g>
            </g>
          </g>
        </g>
      </svg>
    </div>
  );
};

export { LogoAnimated };
